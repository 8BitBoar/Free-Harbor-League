namespace = fhl_events

fhl_events.1 = {
    type = country_event
    title = fhl_events.1.title
    desc = fhl_events.1.desc
    
    trigger = {
        has_reform = government_reform:pirate_brethren_reform
        tag = FHL
        sailors >= 0.3
        
        OR = {
            region:aridoamerica_region = {
                # has_discovered = region:aridoamerica_region
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }              
            region:balkan_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }            
            region:canada_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }
            region:caribbean_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }            
            region:central_america_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }            
            region:colombia_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }
            region:east_coast_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }            
            region:france_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }            
            region:great_plains_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }            
            region:iberia_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }            
            region:italy_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }
            region:maghreb_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }
            region:mesoamerica_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }            
            region:north_atlantic_ocean_region = {
                any_present_country = {
                    num_of_ports >= 1
                    "border_distance_to(root)" < 5500
                }
            }
        }
    }

    illustration_tags = {
        10 = regular
        10 = exterior
    }

    immediate = {
        event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
        random_country = {
            limit = {
                NOT = {tag = ROOT}
                num_of_ports >= 1
                "border_distance_to(root)" < 5500
            }
            save_scope_as = target_country
        }
        save_scope_as = prev_country
        
        set_local_variable = {
            name = local_var:fhl_plunder_value
            value = {
                value = scope:target_country.monthly_income_trade_and_tax
                multiply = { 2 4 }
            }
        }
    }
    
    option = {
        name = fhl_events.1.a
        
        add_sailors = { -0.3 -0.1 }
        add_gold = fhl_plunder_value

        show_as_tooltip = {
            scope:target_country = {
                add_casus_belli = {
                    target = ROOT
                    type = casus_belli:cb_anti_piracy
                }
            }
        }

        scope:target_country = {
            trigger_event_non_silently = fhl_events.2
        }
        
        
    }
    
    option = {
        name = fhl_events.1.b

        change_societal_value = {
            type = belligerent_vs_conciliatory
            value = societal_value_minor_move_to_right
        }
    }
    
    
}

fhl_events.2 = {
    type = country_event
    title = fhl_events.2.title
    desc = fhl_events.2.desc

    illustration_tags = {
        10 = regular
        10 = exterior
    }

    immediate = {
        event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
    }
    
    option = {
        name = fhl_events.2.a
        
        add_casus_belli = {
            target = scope:prev_country
            type = casus_belli:cb_anti_piracy
        }
    }

}



